@using SFA.DAS.CommitmentsV2.Shared.Extensions
@using SFA.DAS.ProviderCommitments.Web.RouteValues
@model SFA.DAS.ProviderCommitments.Web.Models.Apprentice.ChangeOfEmployerViewModel

@{
    ViewBag.Title = "Confirm the information before sending the your request";
    ViewBag.GaData.Vpv = "/apprentices/change-employer/confirm";
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">@ViewBag.Title</h1>
        <table class="govuk-table">
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header das-table-cell-width-45">Apprentice name</th>
                    <td class="govuk-table__cell das-table-cell-width-40">@Model.ApprenticeName</td>
                    <td class="govuk-table__cell">&nbsp;</td>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="govuk-heading-m govuk-!-margin-top-9">Current details</h2>
        <table class="govuk-table">
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header das-table-cell-width-45">Employer</th>
                    <td class="govuk-table__cell das-table-cell-width-40">@Model.OldEmployerName</td>
                    <td class="govuk-table__cell">&nbsp;</td>
                </tr>
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header">Training start date</th>
                    <td class="govuk-table__cell"@DisplayDate(Model.OldStartDate)</td>
                    <td class="govuk-table__cell">&nbsp;</td>
                </tr>
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header">Stop applies from</th>
                    <td class="govuk-table__cell">@DisplayDate(Model.StopDate)</td>
                    <td class="govuk-table__cell">&nbsp;</td>
                </tr>
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header">Total agreed apprenticeship price</th>
                    <td class="govuk-table__cell">@DisplayCost(Model.OldPrice)</td>
                    <td class="govuk-table__cell">&nbsp;</td>
                </tr>
            </tbody>
        </table>
        <h2 class="govuk-heading-m govuk-!-margin-top-9">Requested changes</h2>
        <table class="govuk-table">
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header das-table-cell-width-45">New Employer</th>
                    <td class="govuk-table__cell das-table-cell-width-40">@Model.NewEmployerName</td>
                    <td class="govuk-table__cell">&nbsp;</td>
                </tr>
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header">New training start date</th>
                    <td class="govuk-table__cell">@DisplayDate(Model.OldStartDate)</td>
                    <td class="govuk-table__cell">
                        <a class="govuk-link" href="#">Change</a>
                    </td>
                </tr>
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header">New agreed apprenticeship price</th>
                    <td class="govuk-table__cell">@DisplayCost(Model.NewPrice)</td>
                    <td class="govuk-table__cell">
                        <a class="govuk-link" href="#">Change</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


@functions
{
    private string DisplayDate(DateTime value)
    {
        return $"{value:MMMM yyyy}";
    }

    private string DisplayCost(int value)
    {
        return value.ToGdsCostFormat();
    }
}


@section breadcrumb
{
    <a id="back-link" class="govuk-back-link" href="@Url.RouteUrl(RouteNames.ApprenticePrice, new { Model.EmployerAccountLegalEntityPublicHashedId.Length, Model.NewStartDate})">Back</a>
}